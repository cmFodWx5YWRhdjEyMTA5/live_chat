<ion-view title="Messages" left-buttons="leftButtons" right-buttons="rightButtons">
	
	<ion-nav-buttons side="right">
		<button style="display: none;" id="refreshMessage" class="button button-dark" ng-click="refresh_messages();"><i class="icon ion-refresh"></i></button>		
		<button  class="button button-dark" ng-click="canChecked();"><i class="icon ion-minus-circled"></i></button>		
		<button ng-show="messages.length > 0" class="button button-dark" ng-click="remove_messages();"><i class="icon ion-trash-b"></i></button>		
	</ion-nav-buttons>
	
    <ion-content has-header="true" padding="false" has-bouncing="true">
		<p style="text-align: center; color: #444;">Pull to refresh...</p>
		<ion-refresher
				pulling-text="Pull to refresh..."
				on-refresh="refresh_messages()">
		</ion-refresher>
		<div style="color: #444; text-align: center; font-size: 14px" ng-show="messages.length <= 0"><i class="icon ion-information-circled"></i> No messages.</strong></div>
					
		 <ion-list show-delete="isChecked">

			<ion-item on-hold="onHold(message)" collection-repeat="message in messages" 
			
				<a class="item item-avatar" ng-click="openChat(message)">
				  <img ng-src="{{message.ThumbName}}">
				  <h2>{{message.username}}</h2>				  
				  <p ng-class="{largeWidth: message.ch_status == 0}">{{message.message}}</p>				  
				  <p>{{message.ch_date}}</p>
				  <span class="badge badge-balanced">{{message.age}}</span>				  
				</a>	
				<ion-delete-button class="ion-minus-circled" ng-click="onItemDelete(message)"></ion-delete-button>			 
			</ion-item>

		</ion-list>
		
		
    </ion-content>
	
</ion-view>
